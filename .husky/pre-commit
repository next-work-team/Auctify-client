#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo ""
echo "π” μ»¤λ°‹ μ „ κ²€μ‚¬ μ‹μ‘..."

# π”§ lint-staged μ‹¤ν–‰
echo ""
echo "π§Ή λ¦°νΈ λ° ν¬λ§· κ²€μ‚¬ μ¤‘..."
npx lint-staged
if [ $? -ne 0 ]; then
  echo ""
  echo "β μ»¤λ°‹ μ‹¤ν¨: lint-staged μ¤λ¥ λ°μƒ!"
  echo "π’΅ 'npx lint-staged' λ…λ Ήμ–΄λ΅ μ¤λ¥λ¥Ό μ§μ ‘ ν™•μΈν•μ„Έμ”."
  exit 1
fi

# π§  νƒ€μ…μ¤ν¬λ¦½νΈ μ²΄ν¬
echo ""
echo "π” νƒ€μ…μ¤ν¬λ¦½νΈ νƒ€μ… κ²€μ‚¬ μ¤‘..."
npx tsc --noEmit --pretty
if [ $? -ne 0 ]; then
  echo ""
  echo "β μ»¤λ°‹ μ‹¤ν¨: νƒ€μ…μ¤ν¬λ¦½νΈ μ—λ¬ λ°μƒ!"
  echo "π’΅ 'npx tsc --noEmit --pretty' λ…λ Ήμ–΄λ΅ νƒ€μ… μ¤λ¥λ¥Ό μ§μ ‘ ν™•μΈν•μ„Έμ”."
  exit 1
fi

echo ""
echo "β… μ»¤λ°‹ κ²€μ‚¬ ν†µκ³Ό! μ΄μ  μ»¤λ°‹λ©λ‹λ‹¤ π‰"
